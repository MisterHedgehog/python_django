{% extends 'site/main.html' %}
{% load static %}
{% block nav_brand %}
{% endblock %}
{% block nav_body %}
        {% include 'catalog/nav_body.html' %}
{#    <link rel="stylesheet" href="{% static 'catalog/css/style.css' %}">#}
{% endblock %}
{% block content %}
        <div class="card-header">
            <div class="text-dark m-2"><b>Выберите категорию товара</b></div>
    </div>
    <div class="card-header">
        <input class="form-control m-1" id="input" type="search" placeholder="Поиск">
    </div>
    <form action="" method="post" class="card-body">
    {% csrf_token %}
    {{ form.non_field_errors }}{{ form.subject.errors }}
    <select multiple name="category" class="form-control">
              {% for c in cls %}
        <option class="option" value="{{ forloop.counter0 }}">{{ c }}</option>
    {% endfor %}
    </select>
    <input class="btn btn-warning ml-auto mb-auto" type="submit" value="Далее" />
    </form>
    <div id="text">{{ selected }}</div>

    <script type="text/javascript">
    input.oninput = function(){
        Array.from(document.getElementsByClassName("option")).forEach(x => {
            if(x.innerText.toLowerCase().includes(input.value.toLowerCase()))
            x.style.display = "block";
            else x.style.display = "none";
        });

    }
    </script>
{% endblock %}